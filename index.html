<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="./stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="./stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="./stylesheets/print.css" media="print">
    <link rel="stylesheet" type="text/css" href="./stylesheets/issues.css" media="screen">
    <link rel="stylesheet" type="text/css" href="./stylesheets/prism.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="./javascripts/prism.min.js"></script>
    <script src="./javascripts/marked.js"></script>
    <script type="text/javascript">
      $(document).ready(function()  {
        $.getJSON("https://api.github.com/repos/gappleto97/Senior-Project/issues?state=open", function (allIssues) {
          $.each(allIssues, function (i, issue) {
            appendstring = "<div class=\"issue\">"+ "<b><a href=\"" + issue.html_url + "\">" + issue.number
                + " - " + issue.title;
            if (issue.labels.length > 0)
                appendstring = appendstring + " -";
            for (var i = 0; i < issue.labels.length; i++)	{
                label = issue.labels[i];
                appendstring = appendstring + " <span style=\"border-color:#" + label.color
                    + ";background:#" + label.color + "\">" + label.name + "</span>";
            };
            appendstring = appendstring + "</a></b></br>" + "<i>Updated at "
                + issue.updated_at.replace("T"," ").replace("Z"," UTC") + "</i></br>"
                + marked(issue.body) + "</div></br>";
            console.log(marked(issue.body));
            $("#issuesection").append(appendstring);
          });
          Prism.highlightAll();
        });
      });
    </script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Senior Project by gappleto97</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Senior Project</h1>
        <h2></h2>
        <a href="https://github.com/gappleto97/Senior-Project" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p>To see the original version of this <a href="https://docs.google.com/document/d/1fpamr5mf4G7N5NVfBLGp-teppB66yTRBb8eUn1bQXwQ/edit?usp=sharing">click here</a>.</p>

<h1>
<a id="senior-project" class="anchor" href="#senior-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Senior Project</h1>

<h2>
<a id="abstract" class="anchor" href="#abstract" aria-hidden="true"><span class="octicon octicon-link"></span></a>Abstract</h2>

<p>A purely peer to peer distributed computing network which rewards the participants for solving proposed problems. Bounties and IP addresses are exchanged across a websocket network. If the bounty is above a client’s threshold, they will request a java-based test from this IP address. Because a system does not want to reward for faulty results, a test app is sent to the client. If the result is returned correctly, the bountied problem will then be sent.</p>

<h2>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h2>

<p>With the rise of distributed computing projects, from <a href="https://folding.stanford.edu/">Folding at Home</a>, <a href="http://setiathome.ssl.berkeley.edu/">SETI</a>, etc., there is a distinct lack of standardization in their distribution methods. Because of this, anyone who wants to tap into this trove of information must design their own platform and market this to the world. It’s not surprising that it’s been slow to diversify.</p>

<p>Another problem is that clients have no incentive to run these programs, save for charitable inclinations. Until recently, it would have been next to impossible to provide an incentive. However, with the onset of cryptocurrencies, there is now an easy solution. If people are provided a bounty for problems, they can gain a passive income for their idle resources. This becomes their incentive.<sup><a href="#myfootnote1">1</a></sup></p>

<h2>
<a id="bounties" class="anchor" href="#bounties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bounties</h2>

<p>A bounty is a request that fits a standard format. There are three required data fields, and an array to store extra information.</p>

<p>The first field stores the quantity of the bounty in satoshis (the base unit of Bitcoin). The second stores the IP address of the server. The third stores the Bitcoin address of the server. These three pieces of information can be used to filter out invalid requests.</p>

<p>For instance, if a bounty is 100,000,000 satoshis (1 BTC),<sup><a href="#myfootnote2">2</a></sup> but their address only contains 10,000, you can safely say that the request is invalid, as they do not have the funds to pay you. Likewise if you cannot connect to their IP address.</p>

<p>The data array can contain various flags. For instance, if the program is designed to run on multiple threads, it could contain the ideal core count. Or if the server is run by a well known entity, it could contain something like “SETI thanks you”.</p>

<p><img src="https://i.imgur.com/xCsjOto.png" alt=""></p>

<p>Each node decides to propagate a bounty to the network by using the following workflow:</p>

<p><img src="https://i.imgur.com/bkmwNsB.png" alt=""></p>

<h2>
<a id="security" class="anchor" href="#security" aria-hidden="true"><span class="octicon octicon-link"></span></a>Security</h2>

<p>Because a client is allowing other people to run unknown code on their computer, there needs to be a way to keep things secure. This is possible by the use of a sandbox, making Java an ideal language for tests. While this is less efficient than other languages, it builds a security solution into the network and client itself.</p>

<p>There will also be cases where one will not want to run it in a sandbox. Support for this type of operation is critical for companies like Intel, AMD, NVidia, and Samsung, which may want to test edge cases of their products in the wild. If everything is sandboxed, there’s no way for them to easily guarantee that they are getting to the correct devices. These use cases will be investigated, as they could make up most of the demand for this network.</p>

<h2>
<a id="tests" class="anchor" href="#tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tests</h2>

<p>Tests are a vital part of the network. Like there are ways for clients to exclude invalid requests, there must also be a way for servers to exclude inappropriate clients. They can do this with small bits of test code. The client will then send them the result of this code, and if it is correct, will receive the real problem.</p>

<p>This opens an avenue of attack for the network, however, so there must be constraints on these tests. These will be defined at a later time.<sup><a href="#myfootnote3">3</a></sup></p>

<h2>
<a id="queries" class="anchor" href="#queries" aria-hidden="true"><span class="octicon octicon-link"></span></a>Queries</h2>

<p>After all of this, the query is finally sent to the client. Simultaneously, a <a href="https://bitcoin.org/en/developer-guide#micropayment-channel">payment channel</a><sup><a href="#myfootnote4">4</a></sup> is opened. This channel will be updated once per minute as long as there is an active connection between the server and client, and will grow at a linear rate until a result is achieved, but will never reach the full bounty until a result is submitted. This is to protect from fraud on both the server and user end. The server is protected in that the client has an incentive to stay online, and the user is protected in that the connection will expire if a predetermined time goes by without a result.</p>

<p>Upon closing the connection, the reward is distributed between the two parties in the way agreed upon in the last transaction broadcast. If a result is given, the full bounty will be delivered. The transactions are always broadcast with a lock-time of 24 hours.
<img src="https://i.imgur.com/I25QiL0.png" alt=""></p>

<h2>
<a id="servers" class="anchor" href="#servers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Servers</h2>

<p>The server side of this has two additional components: a propagator and a parser. The propagator handles requests from various clients. It is comprised of a wallet,<sup><a href="#myfootnote5">5</a></sup> a socket,<sup><a href="#myfootnote6">6</a></sup> and (at least) two files. The wallet is used to pay clients in the manner described above. By necessity it spawns large numbers of threads—one per client connected. The socket decides which file to send to clients, and then sends them. When the socket receives a file, it passes it on to the parser.</p>

<p>The parser has two purposes: analyze test results, and move problem results to the proper area. Because of this, test results take the priority. This piece must be written by the server maintainers; there is no general solution for it. When it is not doing this, the parser moves solution files to a different folder, where it can be analyzed without slowing down the rest of the server.</p>

<h1>
<a id="progress" class="anchor" href="#progress" aria-hidden="true"><span class="octicon octicon-link"></span></a>Progress</h1>

<h2>
<a id="so-far" class="anchor" href="#so-far" aria-hidden="true"><span class="octicon octicon-link"></span></a>So Far</h2>

<ul>
<li>Basic networking capabilities

<ul>
<li>Send messages</li>
<li>Listen and respond (concurrently)</li>
<li>On a custom port, if desired</li>
</ul>
</li>
<li>Transparent settings storage</li>
</ul>

<h2>
<a id="working-on-it" class="anchor" href="#working-on-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>Working on it</h2>

<ul>
<li>More complete settings controls</li>
<li>UPnP forwarding</li>
</ul>

<h2>
<a id="future" class="anchor" href="#future" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future</h2>

<ul>
<li>Coin control

<ul>
<li>Payment channel</li>
<li>Secure wallet generation</li>
<li>Secure wallet storage</li>
</ul>
</li>
<li>Dedicated server mode</li>
<li>More complete bounty definition</li>
<li>Network discovery</li>
<li>Sandboxed Execution</li>
</ul>

<h1>Open Issues</h1>

<p>Submit an issue <a href="https://gitreports.com/issue/gappleto97/Senior-Project">here</a> if you do not have a GitHub account, or <a href="https://github.com/gappleto97/Senior-Project/issues/new">here</a> if you do.</p>

<hr>

<div id="issuesection"></div>

<h1>Footnotes</h1>

<hr>

<p><a name="myfootnote1">1</a>: Users will have the option of running this for free. The bounty is to encourage participation, and is not strictly necessary.</p>

<p><a name="myfootnote2">2</a>: The program would store in values in satoshis to avoid floating point inaccuracies.</p>

<p><a name="myfootnote3">3</a>: Fork bombing and other such annoyances are a major concern with the test network. Because of this, any solution that necessitates trust must be rejected. Code analysis for any obvious concerns will be necessary, but may not be enough.</p>

<p><a name="myfootnote4">4</a>: This opens up a security risk to the user because their private key is exposed to my program. This is the single biggest reason that this must be an open source project. Encryption will be explored.</p>

<p><a name="myfootnote5">5</a>: Part of the common library.</p>

<p><a name="myfootnote6">6</a>: Overrides of the standard peer management system.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/gappleto97/Senior-Project/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/gappleto97/Senior-Project/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/gappleto97/Senior-Project">This Project</a> is maintained by <a href="https://github.com/gappleto97">gappleto97</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-69722974-3");
      pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>
